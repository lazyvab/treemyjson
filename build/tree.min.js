function viewTree(a,b){function c(){p.hide(300),setTimeout(function(){p.remove()},300)}function d(){o.empty()}function e(a){var b=$(a);b.data("traversed")||(g(b,b.data("context")),b.data("traversed",!0)),b.children("ul").length?b.attr("data-expanded",!0):b.removeAttr("data-expanded")}function f(a){$(a).attr("data-expanded",!1)}function g(a,b){if(b){var c=m(b);if(c&&c.length){a.attr("data-expanded",!1);for(var d=$("<ul></ul>").appendTo(a),e=0;e<c.length;e++){var g=c[e],h=$('<li class="node"><span class="icon"></span><span class="key">'+g+"</span></li>").appendTo(d),i=n(b,g);h.data("context",i),"object"!=typeof i?h.append('<span class="value">'+i+"</span>"):(f(h),k(h))}}}}function h(a,b,c,d){if(b){var e=m(b);if(d="function"==typeof d&&d||function(){return!0},e&&e.length)for(var g=0;g<e.length;g++){var i=e[g],j=c?c+"."+i:i,l=n(b,i);if(d(i,l)){var o=$('<li class="node"><span class="icon"></span><span class="key">'+j+"</span></li>").appendTo(a);o.data("context",l),f(o),k(o)}else h(a,l,j,d)}}}function i(b){if(d(),b){var c=$("<ul></ul>").appendTo(o);h(c,a,"",function(a){return a&&-1!==a.toLowerCase().indexOf(b.toLowerCase())})}else g(o,a)}function j(){$(document).on("keyup",function(a){27===a.keyCode&&c()}),p.find(".exit-treeview").on("click",c),p.find(".search").on("keyup",function(a){var b,c=$(this);return 27===a.keyCode&&c.val("").blur(),b=c.val(),i(b),a.stopImmediatePropagation(),!1})}function k(a){var b=a&&$(a)||p.find(".node");b.find(".icon").click(function(){var a=$(this).closest(".node"),b=a.attr("data-expanded");"undefined"!=typeof b&&("true"===b?f(a):e(a))}),b.find(".key").click(function(){$(".key.selected").removeClass("selected"),window.ref=$(this).addClass("selected").closest(".node").data("context")})}$("#mytree").remove(),b=b||{};var l=Tree.Templates.Main(),m="function"==typeof b.getNodes?b.getNodes:function(a){return Object.keys(a)},n="function"==typeof b.getValue?b.getValue:function(a,b){return a[b]},o=b.el?$(b.el):$(l).appendTo("body").hide().show(500).find(".tree-content"),p=b.el?o:$("#mytree");j(),g(o,a)}this.Tree=this.Tree||{},this.Tree.Templates=this.Tree.Templates||{},this.Tree.Templates.Main=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div id="mytree">\r\n  <button class="exit-treeview" title="Exit">&times;</button>\r\n  <div class="search-bar">\r\n    <input type="text" class="search" placeholder="Looking for something specific? Search here..."/>\r\n  </div>\r\n  <div class="tree-content"></div>\r\n</div>'});