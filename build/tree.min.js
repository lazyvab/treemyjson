function viewTree(a,b){$("#mytree").remove(),b=b||{};var c=Templates.Tree(),d="function"==typeof b.getNodes?b.getNodes:function(a){return Object.keys(a)},e="function"==typeof b.getValue?b.getValue:function(a,b){return a[b]},f=b.el?$(b.el):$(c).appendTo("body").hide().show(500).find(".tree-content"),g=b.el?f:$("#mytree"),h=function(){f.empty()},i=function(a,b){if(b){var c=d(b);if(c&&c.length){a.attr("data-expanded",!1);for(var f=$("<ul></ul>").appendTo(a),g=0;g<c.length;g++){var h=c[g],j=$('<li class="node"><span class="icon"></span><span class="key">'+h+"</span></li>").appendTo(f),k=e(b,h);j.data("context",k),"object"!=typeof k?j.append('<span class="value">'+k+"</span>"):i(j,k)}}}},j=function(a,b,c,f){if(b){var g=d(b);if(f="function"==typeof f&&f||function(){return!0},g&&g.length)for(var h=0;h<g.length;h++){var k=g[h],l=c?c+"."+k:k,m=e(b,k);if(f(k,m)){var n=$('<li class="node"><span class="icon"></span><span class="key">'+l+"</span></li>").appendTo(a);n.data("context",m),i(n,m)}else j(a,m,l,f)}}},k=function(b){if(h(),b){var c=$("<ul></ul>").appendTo(f);j(c,a,"",function(a){return a&&-1!==a.toLowerCase().indexOf(b.toLowerCase())})}else i(f,a);n()},l=function(){g.hide(300),setTimeout(function(){g.remove()},300)},m=function(){$(document).on("keyup",function(a){27===a.keyCode&&l()}),g.find(".exit-treeview").on("click",l),g.find(".expand-all").on("click",function(){$(".node[data-expanded]").attr("data-expanded",!0)}),g.find(".collapse-all").on("click",function(){$(".node[data-expanded]").attr("data-expanded",!1)}),g.find(".search").on("keyup",function(a){var b,c=$(this);return 27===a.keyCode&&c.val("").blur(),b=c.val(),k(b),a.stopImmediatePropagation(),!1})},n=function(){g.find(".node .icon").click(function(){var a=$(this).closest(".node"),b=a.attr("data-expanded");"undefined"!=typeof b&&a.attr("data-expanded",!("true"==b))}),g.find(".node .key").click(function(){$(".key.selected").removeClass("selected"),window.ref=$(this).addClass("selected").closest(".node").data("context")})};m(),i(f,a),n()}this.Templates=this.Templates||{},this.Templates.Tree=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div id="mytree">\r\n  <div class="tree-toolbar row fixed">\r\n    <div class="cell left-section">\r\n      <button class="expand-all" title="Expand All">[[+]]</button>\r\n      <button class="collapse-all" title="Collapse All">[[-]]</button>\r\n    </div>\r\n    <input type="text" class="search cell" placeholder="Looking for something specific? Search here..."/>\r\n    <div class="cell right right-section">\r\n      <button class="exit-treeview" title="Exit">X</button>\r\n    </div>\r\n  </div>\r\n  <div class="tree-content"></div>\r\n</div>'});